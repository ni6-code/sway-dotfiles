#    _____      _______  __
#   / __/ | /| / / _ \ \/ /
#  _\ \ | |/ |/ / __ |\  /
# /___/ |__/|__/_/ |_|/_/
#

#
# Autostart:
#
exec swww-daemon
exec swww img $HOME/.config/sway/wp.gif
exec swayidle
exec swaync
exec foot --server
#exec swayidle -w timeout 1 'swaymsg "seat * hide_cursor 1000"'
#exec swaymsg 'workspace 1; exec firefox'
#exec_always --no-startup-id ~/.config/sway/window.py

#output eDP-1 resolution 1920x1080 position -0,0

#
# Variables:
#
set $mod            Mod4
set $active_color   #666666
set $inactive_color #333333
set $left           h
set $down           j
set $up             k
set $right          l
set $term           footclient
set $menu           fuzzel
set $lock           gtklock
set $esc            nwg-bar
set $scr            flameshot gui
set $ntf            swaync-client -t
set $ws1            1
set $ws2            2
set $ws3            3
set $ws4            4
set $ws5            5
set $ws6            6
set $ws7            7
set $ws8            8
set $ws9            9

#
# Decorations:
#
hide_edge_borders smart
default_border    pixel 4

client.focused   $active_color   $active_color   #ffffff $active_color
client.unfocused $inactive_color $inactive_color #888888 $inactive_color

seat * hide_cursor when-typing enable
seat seat0 xcursor_theme "Bibata-Modern-Classic" 20

titlebar_padding 8 1
for_window [app_id="foot"] title_format "Terminal"
for_window [app_id="firefox"] title_format "Browser"
for_window [app_id="yazifilechooser"] floating enable, resize set 1200 800
for_window [title="i3-calendar"] floating enable, resize set 680 870

font pango:JetBrainsMono Nerd Font Mono 12

#
# Sway-bar:
#
bar {
    position top
    height 30

    status_command i3blocks
    tray_padding 4
    separator_symbol '|'

    colors {
        background #0a0a14
        statusline #ffffff
        separator  #666666

        # Outline Background Foreground
        focused_workspace  #666666 #666666 #ffffff
        inactive_workspace #333333 #333333 #888888
    }
}

### Idle configuration

#
# Inputs:
#
input type:touchpad {
    dwt              enabled
    tap              enabled
    natural_scroll   enabled
    middle_emulation enabled
}

input type:keyboard {
    xkb_layout   "us,ru"
    xkb_options  "grp:caps_toggle"
    repeat_delay 135
    repeat_rate  35 
}

input type:pointer {
    pointer_accel 0
    accel_profile flat
}

### Key bindings
#
# Basics:
#
bindsym $mod+Return  exec $term
bindsym $mod+Shift+s exec $scr
bindsym $mod+Shift+p exec $lock
bindsym $mod+p       exec $esc
bindsym $mod+n       exec $ntf
bindsym $mod+d       exec $menu
bindsym $mod+q       kill

# Drag floating windows by holding down $mod and left mouse button.
# Resize them with right mouse button + $mod.
# Despite the name, also works for non-floating windows.
# Change normal to inverse to use left mouse button for resizing and right
# mouse button for dragging.
floating_modifier $mod normal

# Reload the configuration file
bindsym $mod+Shift+c reload

# Exit sway (logs you out of your Wayland session)
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'
#
# Moving around:
#
# Move your focus around
bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right
# Or use $mod+[up|down|left|right]
bindsym $mod+Left   focus left
bindsym $mod+Down   focus down
bindsym $mod+Up     focus up
bindsym $mod+Right  focus right

# Move the focused window with the same, but add Shift
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right
# Ditto, with arrow keys
bindsym $mod+Shift+Left   move left
bindsym $mod+Shift+Down   move down
bindsym $mod+Shift+Up     move up
bindsym $mod+Shift+Right  move right

# Workspaces:

# Switch to workspace
bindsym $mod+1 workspace $ws1 
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1, workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2, workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3, workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4, workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5, workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6, workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7, workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8, workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9, workspace $ws9

# Layout stuff:

# You can "split" the current object of your focus with
# $mod+b or $mod+v, for horizontal and vertical splits
# respectively.
bindsym $mod+b splith
bindsym $mod+v splitv
# Switch the current container between different layout styles
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Make the current focus fullscreen
bindsym $mod+f fullscreen

# Toggle the current focus between tiling and floating mode
bindsym $mod+Shift+tab floating toggle

# Swap focus between the tiling area and the floating area
bindsym $mod+tab focus mode_toggle

# Move focus to the parent container
bindsym $mod+a focus parent
bindsym $mod+Shift+a focus child

#
# Scratchpad:
#
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

#
# Resizing containers:
#
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym $left  resize shrink width 10px
    bindsym $down  resize grow height 10px
    bindsym $up    resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left  resize shrink width 10px
    bindsym Down  resize grow height 10px
    bindsym Up    resize shrink height 10px
    bindsym Right resize grow width 10px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

#
# Utilities:
#
# Special keys to adjust volume via PulseAudio
bindsym --locked XF86AudioMute        exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
bindsym --locked XF86AudioMicMute     exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle
# Special keys to adjust brightness via brightnessctl
bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym --locked XF86MonBrightnessUp   exec brightnessctl set 5%+

#
# Includes:
#
include $HOME/.config/sway/config.d/*
